{"version":3,"file":"static/js/141.63a45dd9.chunk.js","mappings":"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","sources":["components/services/Api.js","pages/Home/Home.styled.js","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = 'b57d518fc10de59d42b7f695d79e0fa4';\nexport const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const getTrending = async (signal) => {\n    const res = await axios.get(`/trending/all/day?api_key=${KEY}`, signal)\n    return res.data;\n}\n\nexport const getSearchData = async (queryName, signal) => {\n    const res = await axios.get(`/search/movie?api_key=${KEY}&query=${queryName}`, signal)\n    return res.data;\n}\n\nexport const getMovieDetails = async (id, signal) => {\n    const res = await axios.get(`/movie/${id}?api_key=${KEY}`, signal)\n    return res.data;\n}\n\nexport const getMovieCredits = async (id, signal) => {\n    const res = await axios.get(`/movie/${id}/credits?api_key=${KEY}`, signal)\n    return res.data;\n}\n\nexport const getMovieReviews = async (id, signal) => {\n    const res = await axios.get(`/movie/${id}/reviews?api_key=${KEY}`, signal)\n    return res.data;\n}","import styled from \"styled-components\";\n\nexport const TopTitle = styled.h1`\n    font-size: ${p => p.theme.fontSizes.l}px;\n    margin-bottom: ${p => p.theme.space[4]}px;\n`\nexport const MovieList = styled.ul`\n    display: grid;\n    grid-template-columns: repeat(6, 1fr);\n    gap: ${p => p.theme.space[3]}px;\n`\nexport const MovieItem = styled.li`\n    font-size: ${p => p.theme.fontSizes.m}px;\n    font-weight: ${p => p.theme.fontWeights.preBold};\n    cursor: pointer;\n`\nexport const MovieTitle = styled.p`\n    color: ${p => p.theme.colors.text}\n`","import styled from 'styled-components';\n\nexport const SearchForm = styled.form`\n  margin-bottom: ${p => p.theme.space[4]}px;\n`;\n","import { useState, useEffect } from 'react';\nimport { Link, Outlet, useLocation, useSearchParams } from 'react-router-dom';\n//\nimport { getSearchData, IMG_URL } from 'components/services/Api';\nimport { MovieList, MovieItem, MovieTitle } from '../Home/Home.styled';\nimport { SearchForm } from './Movies.styled';\n\nexport default function Movies() {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n  //\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query') ?? '';\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  };\n\n  const handleSubmit = e => {\n    const { value } = e.target.elements.searchQuery;\n    e.preventDefault();\n    if (value.trim() === query) return;\n    setQuery(value);\n    // update саме на submit\n    updateQueryString(value);\n  };\n\n  useEffect(() => {\n    if (query === '' && movieName === '') return;\n    if (movieName) setQuery(movieName);\n    (async function () {\n      try {\n        const { results } = await getSearchData(query);\n        setMovies(results);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, [movieName, query]);\n\n  return (\n    <>\n      <h1>Movies</h1>\n      <div>\n        <SearchForm onSubmit={handleSubmit}>\n          <input type=\"text\" name=\"searchQuery\" />\n          <button type=\"submit\">Search</button>\n        </SearchForm>\n        <MovieList>\n          {movies.map(({ id, poster_path, title, name }) => (\n            <MovieItem key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                <img src={IMG_URL + poster_path} alt={title ?? name} />\n                <MovieTitle>{title ?? name}</MovieTitle>\n              </Link>\n            </MovieItem>\n          ))}\n        </MovieList>\n      </div>\n      <Outlet />\n    </>\n  );\n}\n"],"names":["axios","KEY","IMG_URL","getTrending","signal","res","data","getSearchData","queryName","getMovieDetails","id","getMovieCredits","getMovieReviews","TopTitle","styled","p","theme","fontSizes","l","space","MovieList","MovieItem","m","fontWeights","preBold","MovieTitle","colors","text","SearchForm","Movies","useState","query","setQuery","movies","setMovies","location","useLocation","useSearchParams","searchParams","setSearchParams","movieName","get","useEffect","results","console","log","onSubmit","e","value","target","elements","searchQuery","preventDefault","trim","updateQueryString","type","name","map","poster_path","title","to","state","from","src","alt"],"sourceRoot":""}